(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";var notation=require("music.notation");var SEMITONES=[0,2,4,5,7,9,11];var CHROMATIC=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"];function note(src){return notation.str(note.parse(src))}note.parse=function(note){var arr=notation.arr(note);return arr&&arr.length!==3?arr:null};note.build=notation.str;note.fromMidi=function(midi){var name=CHROMATIC[midi%12];var oct=Math.floor(midi/12)-1;return name+oct};note.toMidi=notation.op(function(p){if(!p[2]&&p[2]!==0)return null;return SEMITONES[p[0]]+p[1]+12*(p[2]+1)});note.fromCustomFreq=function(t,f){var tuning=t||440;if(arguments.length>1)return note.fromCustomFreq(tuning)(f);return function(freq){var lineal=12*((Math.log(freq)-Math.log(tuning))/Math.log(2));var midi=Math.round(69+lineal);return note.fromMidi(midi)}};note.fromFreq=note.fromCustomFreq(440);var NUM=/^\d+(?:\.\d+)?$/;note.toCustomFreq=function(tuning,p){tuning=tuning||440;if(arguments.length>1)return note.toCustomFreq(tuning)(p);return function(p){if(NUM.test(p))return+p;var midi=note.toMidi(p);if(!midi)return null;return Math.pow(2,(midi-69)/12)*tuning}};note.toFreq=note.toCustomFreq(440);note.cents=function(from,to,decimals){var dec=decimals?Math.pow(10,decimals):100;var fromFreq=note.toFreq(from);var toFreq=note.toFreq(to);return Math.floor(1200*(Math.log(toFreq/fromFreq)*dec/Math.log(2)))/dec};if(typeof module==="object"&&module.exports)module.exports=note;if(typeof window!=="undefined")window.note=note},{"music.notation":2}],2:[function(require,module,exports){"use strict";var pitch=require("./pitch");var interval=require("./interval");var cache={};var notation=function(){return notation};notation.arr=function(src){if(!src||Array.isArray(src))return src;return src in cache?cache[src]:cache[src]=pitch.parse(src)||interval.parse(src)};notation.str=function(arr){if(!Array.isArray(arr))return null;var str="|"+arr[0]+"|"+arr[1]+"|"+arr[2]+"|"+arr[3]+"|"+arr[4];return str in cache?cache[str]:cache[str]=toString(arr)};notation.op=function(fn){return function(pitch){if(!pitch)return null;if(Array.isArray(pitch))return fn(pitch);var a=notation.arr(pitch);if(!a)return null;var v=fn(a);return Array.isArray(v)?notation.str(v):v}};function toString(arr){if(arr.length===2)return pitch.build(arr);else if(arr.length===3)return interval.build(arr);else if(arr.length===0||arr.length===1)return null;else return pitch.build(arr)}module.exports=notation},{"./interval":3,"./pitch":4}],3:[function(require,module,exports){"use strict";var INTERVAL=/^([-+]?)(\d+)(d{1,4}|m|M|P|A{1,4}|b{1,4}|#{1,4}|)$/;var QALT={P:{dddd:-4,ddd:-3,dd:-2,d:-1,P:0,A:1,AA:2,AAA:3,AAAA:4},M:{ddd:-4,dd:-3,d:-2,m:-1,M:0,A:1,AA:2,AAA:3,AAAA:4}};var ALTER={P:["dddd","ddd","dd","d","P","A","AA","AAA","AAAA"],M:["ddd","dd","d","m","M","A","AA","AAA","AAAA"]};var TYPES="PMMPPMM";module.exports={parse:function(str){var m=INTERVAL.exec(str);if(!m)return null;var dir=m[1]==="-"?-1:1;var num=+m[2]-1;var simple=num%7;var oct=dir*Math.floor(num/7);var type=TYPES[simple];var alt;if(m[3]==="")alt=0;else if(m[3][0]==="#")alt=m[3].length;else if(m[3][0]==="b")alt=-m[3].length;else{alt=QALT[type][m[3]];if(typeof alt==="undefined")return null}if(dir===-1){alt=type==="P"?-alt:-(alt+1);if(simple!==0){simple=7-simple;oct--}}return[simple,alt,oct]},build:function(i){var t=TYPES[Math.abs(i[0])%7];var n=number(i);var alt=i[1];if(n<0)alt=t==="P"?-alt:-(alt+1);var q=ALTER[t][4+alt];return n+q}};function number(i){var simple=i[0]%7+1;if(!i[2])return simple;var dir=i[2]<0?-1:1;var oct=Math.abs(i[2]);if(dir<0){simple=9-simple;oct--}return dir*(simple+7*oct)}},{}],4:[function(require,module,exports){"use strict";function fillStr(num,char){return Array(num+1).join(char)}var LETTERS="CDEFGAB";var REGEX=/^([a-gA-G])(#{1,4}|b{1,4}|x{1,2}|)(\d*)$/;module.exports={parse:function(str){var m=REGEX.exec(str);if(!m)return null;var step=LETTERS.indexOf(m[1].toUpperCase());var alt=m[2].replace(/x/g,"##").length;if(m[2][0]==="b")alt*=-1;return m[3]?[step,alt,+m[3],0]:[step,alt]},build:function(arr){var letter=LETTERS.charAt(Math.abs(arr[0])%7);var acc=fillStr(Math.abs(arr[1]),arr[1]<0?"b":"#");var oct=arr[2]||arr[2]===0?arr[2]:"";return letter+acc+oct}}},{}]},{},[1]);